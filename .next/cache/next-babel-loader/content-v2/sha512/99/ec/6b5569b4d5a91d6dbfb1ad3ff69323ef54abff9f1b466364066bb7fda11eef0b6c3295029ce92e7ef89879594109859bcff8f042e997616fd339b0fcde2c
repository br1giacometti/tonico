{"ast":null,"code":"import _defineProperty from \"C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Bruno\\\\Desktop\\\\tienda\\\\nextjs-shopify-master\\\\blocks\\\\CollectionView\\\\CollectionView.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @jsxRuntime classic */\n\n/** @jsx jsx */\nimport React, { useState, useEffect } from 'react';\nimport { NextSeo } from 'next-seo';\nimport { Themed, jsx } from 'theme-ui';\nimport { LoadingDots } from '@components/ui';\nimport builderConfig from '@config/builder';\nimport { ProductGrid } from '../ProductGrid/ProductGrid';\nimport { getCollection } from '@lib/shopify/storefront-data-hooks/src/api/operations-builder';\n\nvar CollectionPreview = function CollectionPreview(_ref) {\n  _s();\n\n  var initialCollection = _ref.collection,\n      productGridOptions = _ref.productGridOptions,\n      renderSeo = _ref.renderSeo;\n\n  var _useState = useState(initialCollection),\n      collection = _useState[0],\n      setCollection = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  useEffect(function () {\n    return setCollection(initialCollection);\n  }, [initialCollection]);\n  useEffect(function () {\n    var fetchCollection = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setLoading(true);\n                _context.next = 3;\n                return getCollection(builderConfig, {\n                  handle: collection\n                });\n\n              case 3:\n                result = _context.sent;\n                setCollection(result);\n                setLoading(false);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchCollection() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    if (typeof collection === 'string') {\n      fetchCollection();\n    }\n  }, [collection]);\n\n  if (!collection || typeof collection === 'string' || loading) {\n    return jsx(LoadingDots, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 12\n      }\n    });\n  }\n\n  var title = collection.title,\n      description = collection.description,\n      products = collection.products;\n  return jsx(Themed.div, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    key: collection.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, renderSeo && jsx(NextSeo, {\n    title: collection.title,\n    description: collection.description,\n    openGraph: {\n      type: 'website',\n      title: title,\n      description: description\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), jsx(\"div\", {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, jsx(\"span\", {\n    sx: {\n      mt: 0,\n      mb: 2\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, jsx(Themed.h1, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, collection.title)), jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: collection.description\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })), jsx(Themed.div, {\n    sx: {\n      p: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, jsx(ProductGrid, _objectSpread(_objectSpread({}, productGridOptions), {}, {\n    products: products,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }))));\n};\n\n_s(CollectionPreview, \"NTRMpYt80BbM13cfHWBscPIlHmI=\");\n\n_c = CollectionPreview;\nexport default CollectionPreview;\n\nvar _c;\n\n$RefreshReg$(_c, \"CollectionPreview\");","map":{"version":3,"sources":["C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/blocks/CollectionView/CollectionView.tsx"],"names":["React","useState","useEffect","NextSeo","Themed","jsx","LoadingDots","builderConfig","ProductGrid","getCollection","CollectionPreview","initialCollection","collection","productGridOptions","renderSeo","setCollection","loading","setLoading","fetchCollection","handle","result","title","description","products","display","flexDirection","id","type","mt","mb","__html","p"],"mappings":"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","sourcesContent":["/** @jsxRuntime classic */\n/** @jsx jsx */\nimport React, { FC, useState, useEffect } from 'react'\nimport { NextSeo } from 'next-seo'\nimport { Themed, jsx } from 'theme-ui'\nimport { LoadingDots } from '@components/ui'\nimport builderConfig from '@config/builder'\nimport { ProductGrid, ProductGridProps } from '../ProductGrid/ProductGrid'\nimport { getCollection } from '@lib/shopify/storefront-data-hooks/src/api/operations-builder'\n\ninterface Props {\n  className?: string\n  children?: any\n  collection: string | any // ShopifyBuy.Collection once their types are up to date\n  productGridOptions: ProductGridProps\n  renderSeo?: boolean\n}\n\nconst CollectionPreview: FC<Props> = ({\n  collection: initialCollection,\n  productGridOptions,\n  renderSeo,\n}) => {\n  const [collection, setCollection] = useState(initialCollection)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => setCollection(initialCollection), [initialCollection])\n\n  useEffect(() => {\n    const fetchCollection = async () => {\n      setLoading(true)\n      const result = await getCollection(builderConfig, {\n        handle: collection,\n      })\n      setCollection(result)\n      setLoading(false)\n    }\n    if (typeof collection === 'string') {\n      fetchCollection()\n    }\n  }, [collection])\n\n  if (!collection || typeof collection === 'string' || loading) {\n    return <LoadingDots />\n  }\n\n  const { title, description, products } = collection\n\n  return (\n    <Themed.div\n      sx={{ display: 'flex', flexDirection: 'column' }}\n      key={collection.id}\n    >\n      {renderSeo && (\n        <NextSeo\n          title={collection.title}\n          description={collection.description}\n          openGraph={{\n            type: 'website',\n            title,\n            description,\n          }}\n        />\n      )}\n      <div sx={{ display: 'flex', flexDirection: 'column' }}>\n        <span sx={{ mt: 0, mb: 2 }}>\n          <Themed.h1>{collection.title}</Themed.h1>\n        </span>\n        <div dangerouslySetInnerHTML={{ __html: collection.description! }} />\n      </div>\n      <Themed.div sx={{ p: 5 }}>\n        <ProductGrid {...productGridOptions} products={products} />\n      </Themed.div>\n    </Themed.div>\n  )\n}\n\nexport default CollectionPreview\n"]},"metadata":{},"sourceType":"module"}