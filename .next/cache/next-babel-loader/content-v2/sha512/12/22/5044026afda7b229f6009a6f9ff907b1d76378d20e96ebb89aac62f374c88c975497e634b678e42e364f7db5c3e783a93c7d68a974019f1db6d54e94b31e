{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bruno\\\\Desktop\\\\tienda\\\\nextjs-shopify-master\\\\blocks\\\\ProductView\\\\ProductLoader.tsx\";\n\n/** @jsxRuntime classic */\n\n/** @jsx jsx */\nimport React, { useState, useEffect } from 'react';\nimport { jsx } from 'theme-ui';\nimport { getProduct } from '@lib/shopify/storefront-data-hooks/src/api/operations-builder';\nimport builderConfig from '@config/builder';\nimport { LoadingDots } from '@components/ui';\n\nconst ProductLoader = ({\n  product: initialProduct,\n  children\n}) => {\n  const {\n    0: product,\n    1: setProduct\n  } = useState(initialProduct);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  useEffect(() => setProduct(initialProduct), [initialProduct]);\n  useEffect(() => {\n    const fetchProduct = async () => {\n      setLoading(true);\n      const result = await getProduct(builderConfig, {\n        handle: String(product)\n      });\n      setProduct(result);\n      setLoading(false);\n    };\n\n    if (typeof product === 'string') {\n      fetchProduct();\n    }\n  }, [product]);\n\n  if (!product || typeof product === 'string' || loading) {\n    return jsx(LoadingDots, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return children(product);\n};\n\nexport default ProductLoader;","map":{"version":3,"sources":["C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/blocks/ProductView/ProductLoader.tsx"],"names":["React","useState","useEffect","jsx","getProduct","builderConfig","LoadingDots","ProductLoader","product","initialProduct","children","setProduct","loading","setLoading","fetchProduct","result","handle","String"],"mappings":";;AAAA;;AACA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,GAAT,QAAoB,UAApB;AACA,SAASC,UAAT,QAA2B,+DAA3B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,WAAT,QAA4B,gBAA5B;;AAQA,MAAMC,aAA8B,GAAG,CAAC;AACtCC,EAAAA,OAAO,EAAEC,cAD6B;AAEtCC,EAAAA;AAFsC,CAAD,KAGjC;AACJ,QAAM;AAAA,OAACF,OAAD;AAAA,OAAUG;AAAV,MAAwBV,QAAQ,CAACQ,cAAD,CAAtC;AACA,QAAM;AAAA,OAACG,OAAD;AAAA,OAAUC;AAAV,MAAwBZ,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAMS,UAAU,CAACF,cAAD,CAAjB,EAAmC,CAACA,cAAD,CAAnC,CAAT;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMY,YAAY,GAAG,YAAY;AAC/BD,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAME,MAAM,GAAG,MAAMX,UAAU,CAACC,aAAD,EAAgB;AAC7CW,QAAAA,MAAM,EAAEC,MAAM,CAACT,OAAD;AAD+B,OAAhB,CAA/B;AAGAG,MAAAA,UAAU,CAACI,MAAD,CAAV;AACAF,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAPD;;AAQA,QAAI,OAAOL,OAAP,KAAmB,QAAvB,EAAiC;AAC/BM,MAAAA,YAAY;AACb;AACF,GAZQ,EAYN,CAACN,OAAD,CAZM,CAAT;;AAcA,MAAI,CAACA,OAAD,IAAY,OAAOA,OAAP,KAAmB,QAA/B,IAA2CI,OAA/C,EAAwD;AACtD,WAAO,IAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,SAAOF,QAAQ,CAACF,OAAD,CAAf;AACD,CA3BD;;AA6BA,eAAeD,aAAf","sourcesContent":["/** @jsxRuntime classic */\n/** @jsx jsx */\nimport React, { useState, useEffect } from 'react'\nimport { jsx } from 'theme-ui'\nimport { getProduct } from '@lib/shopify/storefront-data-hooks/src/api/operations-builder'\nimport builderConfig from '@config/builder'\nimport { LoadingDots } from '@components/ui'\n\ninterface Props {\n  className?: string\n  children: (product: any) => React.ReactElement\n  product: string | ShopifyBuy.Product\n}\n\nconst ProductLoader: React.FC<Props> = ({\n  product: initialProduct,\n  children,\n}) => {\n  const [product, setProduct] = useState(initialProduct)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => setProduct(initialProduct), [initialProduct])\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      setLoading(true)\n      const result = await getProduct(builderConfig, {\n        handle: String(product),\n      })\n      setProduct(result)\n      setLoading(false)\n    }\n    if (typeof product === 'string') {\n      fetchProduct()\n    }\n  }, [product])\n\n  if (!product || typeof product === 'string' || loading) {\n    return <LoadingDots />\n  }\n  return children(product)\n}\n\nexport default ProductLoader\n"]},"metadata":{},"sourceType":"module"}