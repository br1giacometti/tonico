{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { useContext } from 'react';\nimport { Context } from '../Context';\nimport { useGetLineItem } from './useGetLineItem';\nexport function useRemoveItemsFromCart() {\n  _s();\n\n  var _useContext = useContext(Context),\n      client = _useContext.client,\n      cart = _useContext.cart,\n      setCart = _useContext.setCart;\n\n  var getLineItem = useGetLineItem();\n\n  function removeItemsFromCart(_x) {\n    return _removeItemsFromCart.apply(this, arguments);\n  }\n\n  function _removeItemsFromCart() {\n    _removeItemsFromCart = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(variantIds) {\n      var lineItemIds, newCart;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(cart == null || client == null)) {\n                _context.next = 2;\n                break;\n              }\n\n              throw new Error('Called removeItemsFromCart too soon');\n\n            case 2:\n              if (!(variantIds.length < 1)) {\n                _context.next = 4;\n                break;\n              }\n\n              throw new Error('Must include at least one item to remove');\n\n            case 4:\n              lineItemIds = variantIds.map(function (variantId) {\n                var lineItem = getLineItem(variantId);\n\n                if (lineItem === null) {\n                  throw new Error(\"Could not find line item in cart with variant id: \".concat(variantId));\n                }\n\n                return String(lineItem.id);\n              });\n              _context.next = 7;\n              return client.checkout.removeLineItems(cart.id, lineItemIds);\n\n            case 7:\n              newCart = _context.sent;\n              setCart(newCart);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _removeItemsFromCart.apply(this, arguments);\n  }\n\n  return removeItemsFromCart;\n}\n\n_s(useRemoveItemsFromCart, \"pW6gWtK6d1VFuw5/dFW+RRvXMZQ=\", false, function () {\n  return [useGetLineItem];\n});","map":{"version":3,"sources":["C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/lib/shopify/storefront-data-hooks/src/hooks/useRemoveItemsFromCart.ts"],"names":["useContext","Context","useGetLineItem","useRemoveItemsFromCart","client","cart","setCart","getLineItem","removeItemsFromCart","variantIds","Error","length","lineItemIds","map","variantId","lineItem","String","id","checkout","removeLineItems","newCart"],"mappings":";;;;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AAEA,OAAO,SAASC,sBAAT,GAAkC;AAAA;;AAAA,oBACLH,UAAU,CAACC,OAAD,CADL;AAAA,MAC/BG,MAD+B,eAC/BA,MAD+B;AAAA,MACvBC,IADuB,eACvBA,IADuB;AAAA,MACjBC,OADiB,eACjBA,OADiB;;AAEvC,MAAMC,WAAW,GAAGL,cAAc,EAAlC;;AAFuC,WAIxBM,mBAJwB;AAAA;AAAA;;AAAA;AAAA,oFAIvC,iBAAmCC,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACMJ,IAAI,IAAI,IAAR,IAAgBD,MAAM,IAAI,IADhC;AAAA;AAAA;AAAA;;AAAA,oBAEU,IAAIM,KAAJ,CAAU,qCAAV,CAFV;;AAAA;AAAA,oBAKMD,UAAU,CAACE,MAAX,GAAoB,CAL1B;AAAA;AAAA;AAAA;;AAAA,oBAMU,IAAID,KAAJ,CAAU,0CAAV,CANV;;AAAA;AASQE,cAAAA,WATR,GASsBH,UAAU,CAACI,GAAX,CAAe,UAACC,SAAD,EAAe;AAChD,oBAAMC,QAAQ,GAAGR,WAAW,CAACO,SAAD,CAA5B;;AACA,oBAAIC,QAAQ,KAAK,IAAjB,EAAuB;AACrB,wBAAM,IAAIL,KAAJ,6DACiDI,SADjD,EAAN;AAGD;;AACD,uBAAOE,MAAM,CAACD,QAAQ,CAACE,EAAV,CAAb;AACD,eARmB,CATtB;AAAA;AAAA,qBAmBwBb,MAAM,CAACc,QAAP,CAAgBC,eAAhB,CAAgCd,IAAI,CAACY,EAArC,EAAyCL,WAAzC,CAnBxB;;AAAA;AAmBQQ,cAAAA,OAnBR;AAoBEd,cAAAA,OAAO,CAACc,OAAD,CAAP;;AApBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAJuC;AAAA;AAAA;;AA2BvC,SAAOZ,mBAAP;AACD;;GA5BeL,sB;UAEMD,c","sourcesContent":["import { useContext } from 'react'\nimport { Context } from '../Context'\nimport { useGetLineItem } from './useGetLineItem'\n\nexport function useRemoveItemsFromCart() {\n  const { client, cart, setCart } = useContext(Context)\n  const getLineItem = useGetLineItem()\n\n  async function removeItemsFromCart(variantIds: string[]) {\n    if (cart == null || client == null) {\n      throw new Error('Called removeItemsFromCart too soon')\n    }\n\n    if (variantIds.length < 1) {\n      throw new Error('Must include at least one item to remove')\n    }\n\n    const lineItemIds = variantIds.map((variantId) => {\n      const lineItem = getLineItem(variantId)\n      if (lineItem === null) {\n        throw new Error(\n          `Could not find line item in cart with variant id: ${variantId}`\n        )\n      }\n      return String(lineItem.id)\n    })\n\n    const newCart = await client.checkout.removeLineItems(cart.id, lineItemIds)\n    setCart(newCart)\n  }\n\n  return removeItemsFromCart\n}\n"]},"metadata":{},"sourceType":"module"}