{"ast":null,"code":"import { LocalStorageKeys } from './keys';\nimport { isCart } from '../../utils';\n\nfunction set(key, value) {\n  const isBrowser = false;\n\n  if (isBrowser) {\n    window.localStorage.setItem(key, value);\n  }\n}\n\nfunction get(key) {\n  const isBrowser = false;\n\n  if (!isBrowser) {\n    return null;\n  }\n\n  try {\n    const item = window.localStorage.getItem(key);\n    return item;\n  } catch {\n    return null;\n  }\n}\n\nfunction getInitialCart() {\n  const existingCartString = get(LocalStorageKeys.CART);\n\n  if (existingCartString == null) {\n    return null;\n  }\n\n  try {\n    const existingCart = JSON.parse(existingCartString);\n\n    if (!isCart(existingCart)) {\n      return null;\n    }\n\n    return existingCart;\n  } catch {\n    return null;\n  }\n}\n\nexport const LocalStorage = {\n  get,\n  set,\n  getInitialCart\n};","map":{"version":3,"sources":["C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/lib/shopify/storefront-data-hooks/src/utils/LocalStorage/LocalStorage.ts"],"names":["LocalStorageKeys","isCart","set","key","value","isBrowser","window","localStorage","setItem","get","item","getItem","getInitialCart","existingCartString","CART","existingCart","JSON","parse","LocalStorage"],"mappings":"AACA,SAASA,gBAAT,QAAiC,QAAjC;AACA,SAASC,MAAT,QAAuB,aAAvB;;AAEA,SAASC,GAAT,CAAaC,GAAb,EAA0BC,KAA1B,EAAyC;AACvC,QAAMC,SAAS,QAAf;;AACA,MAAIA,SAAJ,EAAe;AACbC,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BL,GAA5B,EAAiCC,KAAjC;AACD;AACF;;AAED,SAASK,GAAT,CAAaN,GAAb,EAA0B;AACxB,QAAME,SAAS,QAAf;;AACA,MAAI,CAACA,SAAL,EAAgB;AACd,WAAO,IAAP;AACD;;AAED,MAAI;AACF,UAAMK,IAAI,GAAGJ,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4BR,GAA5B,CAAb;AACA,WAAOO,IAAP;AACD,GAHD,CAGE,MAAM;AACN,WAAO,IAAP;AACD;AACF;;AAED,SAASE,cAAT,GAAkD;AAChD,QAAMC,kBAAkB,GAAGJ,GAAG,CAACT,gBAAgB,CAACc,IAAlB,CAA9B;;AACA,MAAID,kBAAkB,IAAI,IAA1B,EAAgC;AAC9B,WAAO,IAAP;AACD;;AAED,MAAI;AACF,UAAME,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWJ,kBAAX,CAArB;;AACA,QAAI,CAACZ,MAAM,CAACc,YAAD,CAAX,EAA2B;AACzB,aAAO,IAAP;AACD;;AAED,WAAOA,YAAP;AACD,GAPD,CAOE,MAAM;AACN,WAAO,IAAP;AACD;AACF;;AAED,OAAO,MAAMG,YAAY,GAAG;AAC1BT,EAAAA,GAD0B;AAE1BP,EAAAA,GAF0B;AAG1BU,EAAAA;AAH0B,CAArB","sourcesContent":["import ShopifyBuy from 'shopify-buy'\nimport { LocalStorageKeys } from './keys'\nimport { isCart } from '../../utils'\n\nfunction set(key: string, value: string) {\n  const isBrowser = typeof window !== 'undefined'\n  if (isBrowser) {\n    window.localStorage.setItem(key, value)\n  }\n}\n\nfunction get(key: string) {\n  const isBrowser = typeof window !== 'undefined'\n  if (!isBrowser) {\n    return null\n  }\n\n  try {\n    const item = window.localStorage.getItem(key)\n    return item\n  } catch {\n    return null\n  }\n}\n\nfunction getInitialCart(): ShopifyBuy.Cart | null {\n  const existingCartString = get(LocalStorageKeys.CART)\n  if (existingCartString == null) {\n    return null\n  }\n\n  try {\n    const existingCart = JSON.parse(existingCartString)\n    if (!isCart(existingCart)) {\n      return null\n    }\n\n    return existingCart as ShopifyBuy.Cart\n  } catch {\n    return null\n  }\n}\n\nexport const LocalStorage = {\n  get,\n  set,\n  getInitialCart,\n}\n"]},"metadata":{},"sourceType":"module"}