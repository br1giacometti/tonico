{"ast":null,"code":"import _defineProperty from \"C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Bruno\\\\Desktop\\\\tienda\\\\nextjs-shopify-master\\\\pages\\\\collection\\\\[handle].tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from 'next/router';\nimport { Layout } from '@components/common';\nimport { BuilderComponent, Builder, builder } from '@builder.io/react';\nimport builderConfig from '@config/builder';\nimport DefaultErrorPage from 'next/error';\nimport Head from 'next/head';\nimport { useThemeUI } from '@theme-ui/core';\nbuilder.init(builderConfig.apiKey);\nBuilder.isStatic = true;\nvar builderModel = 'collection-page';\nexport var __N_SSG = true;\nexport default function Handle(_ref) {\n  _s();\n\n  var collection = _ref.collection,\n      page = _ref.page;\n  var router = useRouter();\n  var isLive = !Builder.isEditing && !Builder.isPreviewing;\n\n  var _useThemeUI = useThemeUI(),\n      theme = _useThemeUI.theme;\n\n  if (!collection && isLive) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Head, {\n        children: [/*#__PURE__*/_jsxDEV(\"meta\", {\n          name: \"robots\",\n          content: \"noindex\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          name: \"title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DefaultErrorPage, {\n        statusCode: 404\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n  return router.isFallback && isLive ? /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this) // TODO (BC) Add Skeleton Views\n  :\n  /*#__PURE__*/\n  _jsxDEV(BuilderComponent, _objectSpread({\n    isStatic: true,\n    model: builderModel,\n    data: {\n      collection: collection,\n      theme: theme\n    }\n  }, page && {\n    content: page\n  }), collection.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Handle, \"e43mLmUDLeffLESFakPeSMBhNE8=\", false, function () {\n  return [useRouter, useThemeUI];\n});\n\n_c = Handle;\nHandle.Layout = Layout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Handle\");","map":{"version":3,"sources":["C:/Users/Bruno/Desktop/tienda/nextjs-shopify-master/pages/collection/[handle].tsx"],"names":["useRouter","Layout","BuilderComponent","Builder","builder","builderConfig","DefaultErrorPage","Head","useThemeUI","init","apiKey","isStatic","builderModel","Handle","collection","page","router","isLive","isEditing","isPreviewing","theme","isFallback","content","id"],"mappings":";;;;;;;;;;;AAKA,SAASA,SAAT,QAA0B,aAA1B;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,gBAAT,EAA2BC,OAA3B,EAAoCC,OAApC,QAAmD,mBAAnD;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;AAKA,OAAOC,gBAAP,MAA6B,YAA7B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AAGAJ,OAAO,CAACK,IAAR,CAAaJ,aAAa,CAACK,MAA3B;AACAP,OAAO,CAACQ,QAAR,GAAmB,IAAnB;AACA,IAAMC,YAAY,GAAG,iBAArB;;AAgCA,eAAe,SAASC,MAAT,OAGoC;AAAA;;AAAA,MAFjDC,UAEiD,QAFjDA,UAEiD;AAAA,MADjDC,IACiD,QADjDA,IACiD;AACjD,MAAMC,MAAM,GAAGhB,SAAS,EAAxB;AACA,MAAMiB,MAAM,GAAG,CAACd,OAAO,CAACe,SAAT,IAAsB,CAACf,OAAO,CAACgB,YAA9C;;AAFiD,oBAG/BX,UAAU,EAHqB;AAAA,MAGzCY,KAHyC,eAGzCA,KAHyC;;AAIjD,MAAI,CAACN,UAAD,IAAeG,MAAnB,EAA2B;AACzB,wBACE;AAAA,8BACE,QAAC,IAAD;AAAA,gCACE;AAAM,UAAA,IAAI,EAAC,QAAX;AAAoB,UAAA,OAAO,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAM,UAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE,QAAC,gBAAD;AAAkB,QAAA,UAAU,EAAE;AAA9B;AAAA;AAAA;AAAA;AAAA,cALF;AAAA,oBADF;AASD;;AAED,SAAOD,MAAM,CAACK,UAAP,IAAqBJ,MAArB,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADK,CACe;AADf;AAAA;AAGL,UAAC,gBAAD;AACE,IAAA,QAAQ,MADV;AAGE,IAAA,KAAK,EAAEL,YAHT;AAIE,IAAA,IAAI,EAAE;AAAEE,MAAAA,UAAU,EAAVA,UAAF;AAAcM,MAAAA,KAAK,EAALA;AAAd;AAJR,KAKOL,IAAI,IAAI;AAAEO,IAAAA,OAAO,EAAEP;AAAX,GALf,GAEOD,UAAU,CAACS,EAFlB;AAAA;AAAA;AAAA;AAAA,UAHF;AAWD;;GA9BuBV,M;UAIPb,S,EAEGQ,U;;;KANIK,M;AAgCxBA,MAAM,CAACZ,MAAP,GAAgBA,MAAhB","sourcesContent":["import type {\n  GetStaticPathsContext,\n  GetStaticPropsContext,\n  InferGetStaticPropsType,\n} from 'next'\nimport { useRouter } from 'next/router'\nimport { Layout } from '@components/common'\nimport { BuilderComponent, Builder, builder } from '@builder.io/react'\nimport { resolveBuilderContent } from '@lib/resolve-builder-content'\nimport builderConfig from '@config/builder'\nimport {\n  getCollection,\n  getAllCollectionPaths,\n} from '@lib/shopify/storefront-data-hooks/src/api/operations-builder'\nimport DefaultErrorPage from 'next/error'\nimport Head from 'next/head'\nimport { useThemeUI } from '@theme-ui/core'\nimport { getLayoutProps } from '@lib/get-layout-props'\n\nbuilder.init(builderConfig.apiKey!)\nBuilder.isStatic = true\nconst builderModel = 'collection-page'\n\nexport async function getStaticProps({\n  params,\n  locale,\n}: GetStaticPropsContext<{ handle: string }>) {\n  const collection = await getCollection(builderConfig, {\n    handle: params?.handle,\n  })\n\n  const page = await resolveBuilderContent(builderModel, {\n    collectionHandle: params?.handle,\n    locale,\n  })\n\n  return {\n    props: {\n      page: page || null,\n      collection: collection || null,\n      ...(await getLayoutProps()),\n    },\n  }\n}\n\nexport async function getStaticPaths({ locales }: GetStaticPathsContext) {\n  const paths = await getAllCollectionPaths(builderConfig)\n  return {\n    paths: paths.map((path) => `/collection/${path}`),\n    fallback: 'blocking',\n  }\n}\n\nexport default function Handle({\n  collection,\n  page,\n}: InferGetStaticPropsType<typeof getStaticProps>) {\n  const router = useRouter()\n  const isLive = !Builder.isEditing && !Builder.isPreviewing\n  const { theme } = useThemeUI()\n  if (!collection && isLive) {\n    return (\n      <>\n        <Head>\n          <meta name=\"robots\" content=\"noindex\" />\n          <meta name=\"title\"></meta>\n        </Head>\n        <DefaultErrorPage statusCode={404} />\n      </>\n    )\n  }\n\n  return router.isFallback && isLive ? (\n    <h1>Loading...</h1> // TODO (BC) Add Skeleton Views\n  ) : (\n    <BuilderComponent\n      isStatic\n      key={collection.id}\n      model={builderModel}\n      data={{ collection, theme }}\n      {...(page && { content: page })}\n    />\n  )\n}\n\nHandle.Layout = Layout\n"]},"metadata":{},"sourceType":"module"}